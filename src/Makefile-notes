SRC=$(wildcard $(NOTES_SOURCE_DIR)/*.md)
COMPILED_PDFS=$(SRC:$(NOTES_SOURCE_DIR)/%.md=$(NOTES_OUTPUT_DIR)/%.pdf)

$(NOTES_OUTPUT_DIR)/%.pdf: $(NOTES_SOURCE_DIR)/%.md
	$(NOTE_COMPILER) $<

all: $(COMPILED_PDFS) $(NOTES_OUTPUT_DIR)/$(GUIDE_FILENAME)

$(NOTES_OUTPUT_DIR)/$(GUIDE_FILENAME): $(COMPILED_PDFS)
	$(GUIDE_COMPILER)

clean: 
	rm -f $(COMPILED_PDFS) $(NOTES_OUTPUT_DIR)/$(GUIDE_FILENAME)

